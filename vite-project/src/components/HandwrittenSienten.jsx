import { motion } from "framer-motion";
import { useId } from "react";
import styled from "styled-components";

const Svg = styled(motion.svg)`
  height: 1em;
  width: auto;
  margin-left: 0.2em;
  transform: translateY(0.12em);
  overflow: visible;
`;

const container = {
  hidden: {},
  show: {
    transition: {
      staggerChildren: 0.18, // letter-by-letter pacing
      delayChildren: 0.12,
    },
  },
};

// Invisible fat stroke inside mask: reveals the filled letters
const maskPen = {
  hidden: { pathLength: 0 },
  show: {
    pathLength: 1,
    transition: { duration: 1.25, ease: "easeInOut" },
  },
};

// Visible thin stroke: makes it look like real handwriting
const inkLine = {
  hidden: { pathLength: 0, opacity: 1 },
  show: {
    pathLength: 1,
    opacity: 1,
    transition: { duration: 1.25, ease: "easeInOut" },
  },
};

export default function HandwrittenSienten({
  strokeWidth = 16, // mask pen thickness (controls fill reveal)
  inkWidth = 2.4, // visible handwriting line thickness
  ...props
}) {
  const maskId = useId();

  const PATHS = [
    "M12.16 78.336C8.91733 78.336 6.05867 77.6107 3.584 76.16C1.19467 74.624 0 72.832 0 70.784C0 69.248 0.426667 68.0533 1.28 67.2C2.21867 66.3467 3.328 65.92 4.608 65.92C5.54667 65.92 6.31467 66.2187 6.912 66.816C7.50933 67.328 8.23467 68.2667 9.088 69.632C10.0267 71.3387 11.0507 72.6613 12.16 73.6C13.2693 74.5387 14.8053 75.008 16.768 75.008C20.864 75.008 23.2107 72.704 23.808 68.096C23.8933 67.6693 23.936 67.1147 23.936 66.432C23.936 63.9573 23.2107 61.824 21.76 60.032C20.3093 58.1547 18.1333 56.0213 15.232 53.632C12.416 51.328 10.2827 49.3227 8.832 47.616C7.46667 45.824 6.784 43.6907 6.784 41.216C6.784 38.4 7.59467 35.84 9.216 33.536C10.9227 31.232 13.1413 29.44 15.872 28.16C18.688 26.88 21.632 26.24 24.704 26.24C28.032 26.24 30.7627 26.88 32.896 28.16C35.0293 29.44 35.968 31.0613 35.712 33.024C35.456 34.304 34.9013 35.2853 34.048 35.968C33.1947 36.6507 32.256 36.992 31.232 36.992C29.952 36.992 28.9707 36.6933 28.288 36.096C27.6053 35.4987 26.88 34.6027 26.112 33.408C25.2587 32.0427 24.3627 31.0187 23.424 30.336C22.5707 29.6533 21.3333 29.312 19.712 29.312C18.0907 29.312 16.7253 29.7387 15.616 30.592C14.592 31.4453 13.9947 32.5973 13.824 34.048C13.7387 34.3893 13.696 34.944 13.696 35.712C13.696 38.016 14.3787 40.064 15.744 41.856C17.1947 43.648 19.2853 45.696 22.016 48C25.0027 50.56 27.2213 52.8213 28.672 54.784C30.208 56.6613 30.976 58.88 30.976 61.44C30.976 64 30.1227 66.6027 28.416 69.248C26.7947 71.8933 24.5333 74.0693 21.632 75.776C18.7307 77.4827 15.5733 78.336 12.16 78.336Z",
    "M51.925 78.08C50.2183 78.08 48.9383 77.6107 48.085 76.672C47.317 75.648 46.933 74.0693 46.933 71.936C46.933 70.2293 47.189 68.096 47.701 65.536L52.949 38.912C53.205 37.632 53.333 36.5653 53.333 35.712C53.333 33.0667 52.4797 31.744 50.773 31.744C49.8343 31.744 48.6397 32.256 47.189 33.28C45.7383 34.2187 44.1597 35.584 42.453 37.376C42.3677 37.4613 42.2397 37.504 42.069 37.504C41.813 37.504 41.557 37.376 41.301 37.12C41.1303 36.7787 41.173 36.5227 41.429 36.352C47.061 29.696 52.053 26.368 56.405 26.368C58.1117 26.368 59.349 26.88 60.117 27.904C60.9703 28.8427 61.397 30.336 61.397 32.384C61.397 34.3467 61.1837 36.3093 60.757 38.272L55.509 65.536C55.253 66.9013 55.125 68.0533 55.125 68.992C55.125 71.3813 55.893 72.576 57.429 72.576C59.3917 72.576 62.0797 70.784 65.493 67.2C65.5783 67.1147 65.7063 67.072 65.877 67.072C66.2183 67.072 66.4743 67.2427 66.645 67.584C66.8157 67.84 66.773 68.0533 66.517 68.224C63.701 71.552 61.0983 74.0267 58.709 75.648C56.405 77.2693 54.1437 78.08 51.925 78.08ZM60.117 11.776C58.2397 11.776 56.7463 11.264 55.637 10.24C54.613 9.13066 54.101 7.63733 54.101 5.75999C54.101 3.968 54.613 2.56 55.637 1.536C56.7463 0.511999 58.2397 0 60.117 0C61.9943 0 63.445 0.511999 64.469 1.536C65.5783 2.56 66.133 3.968 66.133 5.75999C66.133 7.63733 65.621 9.13066 64.597 10.24C63.573 11.264 62.0797 11.776 60.117 11.776Z",
    "M89.822 78.464C84.19 78.464 79.966 76.7147 77.15 73.216C74.334 69.7173 72.926 65.1947 72.926 59.648C72.926 57.7707 73.1393 55.6373 73.566 53.248C74.4193 48.8107 76.254 44.5013 79.07 40.32C81.9713 36.0533 85.5553 32.5973 89.822 29.952C94.0887 27.2213 98.6113 25.856 103.39 25.856C106.633 25.856 109.065 26.496 110.686 27.776C112.307 28.9707 112.947 30.6347 112.606 32.768C112.179 35.4987 110.302 38.1013 106.974 40.576C103.731 43.0507 99.5927 45.1413 94.558 46.848C89.5233 48.5547 84.2327 49.7067 78.686 50.304L78.942 48.64C86.2807 47.616 92.0833 45.8667 96.35 43.392C100.702 40.9173 102.878 37.6747 102.878 33.664C102.878 32.2987 102.323 31.232 101.214 30.464C100.19 29.696 98.91 29.312 97.374 29.312C93.7047 29.312 90.59 31.1893 88.03 34.944C85.5553 38.6133 83.8487 43.3067 82.91 49.024C82.398 51.584 82.142 54.0587 82.142 56.448C82.142 61.6533 83.294 65.8347 85.598 68.992C87.902 72.1493 91.1873 73.728 95.454 73.728C100.233 73.728 104.414 72.32 107.998 69.504H108.126C108.382 69.504 108.595 69.632 108.766 69.888C109.022 70.144 109.065 70.4 108.894 70.656C102.835 75.8613 96.478 78.464 89.822 78.464Z",
    "M157.237 78.08C155.53 78.08 154.293 77.6107 153.525 76.672C152.757 75.648 152.373 74.0267 152.373 71.808C152.373 70.3573 152.586 68.2667 153.013 65.536L156.725 45.184C157.237 42.624 157.493 40.4053 157.493 38.528C157.493 33.8347 155.829 31.488 152.501 31.488C149.77 31.488 146.954 33.2373 144.053 36.736C141.152 40.2347 138.421 45.3547 135.861 52.096C133.301 58.752 131.21 66.6453 129.589 75.776L127.797 75.648C129.504 65.7493 131.85 57.0453 134.837 49.536C137.824 42.0267 141.237 36.224 145.077 32.128C149.002 27.9467 153.098 25.856 157.365 25.856C160.181 25.856 162.272 26.6667 163.637 28.288C165.088 29.9093 165.813 32.384 165.813 35.712C165.813 37.6747 165.557 40.0213 165.045 42.752L160.821 65.536C160.565 66.816 160.437 67.8827 160.437 68.736C160.437 71.296 161.248 72.576 162.869 72.576C164.32 72.576 166.965 70.7413 170.805 67.072C170.976 66.9013 171.104 66.816 171.189 66.816C171.445 66.816 171.658 66.9867 171.829 67.328C172 67.584 172 67.84 171.829 68.096C168.928 71.5093 166.325 74.0267 164.021 75.648C161.717 77.2693 159.456 78.08 157.237 78.08ZM124.597 77.952C122.293 77.952 121.141 77.6533 121.141 77.056L121.653 74.496C122.421 70.8267 122.89 68.48 123.061 67.456L128.309 38.912C128.565 37.632 128.693 36.5653 128.693 35.712C128.693 33.0667 127.882 31.744 126.261 31.744C125.322 31.744 124.128 32.256 122.677 33.28C121.226 34.2187 119.605 35.584 117.813 37.376C117.728 37.4613 117.6 37.504 117.429 37.504C117.173 37.504 116.96 37.376 116.789 37.12C116.618 36.7787 116.618 36.5227 116.789 36.352C119.69 32.9387 122.378 30.4213 124.853 28.8C127.328 27.1787 129.717 26.368 132.021 26.368C133.728 26.368 134.965 26.88 135.733 27.904C136.501 28.8427 136.885 30.3787 136.885 32.512C136.885 33.792 136.672 35.712 136.245 38.272L129.589 75.776C129.418 76.4587 128.906 76.9707 128.053 77.312C127.2 77.7387 126.048 77.952 124.597 77.952Z",
    "M189.72 78.464C183.661 78.464 180.632 75.648 180.632 70.016C180.632 68.6507 180.717 67.5413 180.888 66.688L186.136 37.76C186.477 36.3093 186.648 34.9867 186.648 33.792C186.648 32.5973 186.307 31.8293 185.624 31.488C184.941 31.0613 183.661 30.848 181.784 30.848C181.528 30.848 181.4 30.6347 181.4 30.208C181.4 29.952 181.443 29.696 181.528 29.44C181.699 29.184 181.827 29.056 181.912 29.056C185.069 29.056 187.8 28.1173 190.104 26.24C192.493 24.2773 194.2 21.8027 195.224 18.816C195.224 18.56 195.523 18.432 196.12 18.432C196.461 18.432 196.76 18.5173 197.016 18.688C197.357 18.7733 197.485 18.8587 197.4 18.944L189.464 63.36C189.208 64.64 189.08 65.8347 189.08 66.944C189.08 70.9547 191.213 72.96 195.48 72.96C197.528 72.96 199.448 72.5333 201.24 71.68C203.117 70.7413 205.165 69.376 207.384 67.584H207.512C207.768 67.584 208.024 67.712 208.28 67.968C208.536 68.224 208.579 68.4373 208.408 68.608C204.568 72.1067 201.155 74.624 198.168 76.16C195.267 77.696 192.451 78.464 189.72 78.464ZM208.408 33.408C208.067 33.408 206.232 33.1947 202.904 32.768C199.661 32.256 196.419 32 193.176 32L193.432 28.8C197.443 28.8 202.008 28.544 207.128 28.032L211.736 27.776C211.992 27.776 212.205 27.904 212.376 28.16C212.547 28.3307 212.632 28.544 212.632 28.8C212.632 29.568 212.12 30.5493 211.096 31.744C210.157 32.8533 209.261 33.408 208.408 33.408Z",
    "M232.072 78.464C226.44 78.464 222.216 76.7147 219.4 73.216C216.584 69.7173 215.176 65.1947 215.176 59.648C215.176 57.7707 215.389 55.6373 215.816 53.248C216.669 48.8107 218.504 44.5013 221.32 40.32C224.221 36.0533 227.805 32.5973 232.072 29.952C236.339 27.2213 240.861 25.856 245.64 25.856C248.883 25.856 251.315 26.496 252.936 27.776C254.557 28.9707 255.197 30.6347 254.856 32.768C254.429 35.4987 252.552 38.1013 249.224 40.576C245.981 43.0507 241.843 45.1413 236.808 46.848C231.773 48.5547 226.483 49.7067 220.936 50.304L221.192 48.64C228.531 47.616 234.333 45.8667 238.6 43.392C242.952 40.9173 245.128 37.6747 245.128 33.664C245.128 32.2987 244.573 31.232 243.464 30.464C242.44 29.696 241.16 29.312 239.624 29.312C235.955 29.312 232.84 31.1893 230.28 34.944C227.805 38.6133 226.099 43.3067 225.16 49.024C224.648 51.584 224.392 54.0587 224.392 56.448C224.392 61.6533 225.544 65.8347 227.848 68.992C230.152 72.1493 233.437 73.728 237.704 73.728C242.483 73.728 246.664 72.32 250.248 69.504H250.376C250.632 69.504 250.845 69.632 251.016 69.888C251.272 70.144 251.315 70.4 251.144 70.656C245.085 75.8613 238.728 78.464 232.072 78.464Z",
    "M299.487 78.08C297.78 78.08 296.543 77.6107 295.775 76.672C295.007 75.648 294.623 74.0267 294.623 71.808C294.623 70.3573 294.836 68.2667 295.263 65.536L298.975 45.184C299.487 42.624 299.743 40.4053 299.743 38.528C299.743 33.8347 298.079 31.488 294.751 31.488C292.02 31.488 289.204 33.2373 286.303 36.736C283.402 40.2347 280.671 45.3547 278.111 52.096C275.551 58.752 273.46 66.6453 271.839 75.776L270.047 75.648C271.754 65.7493 274.1 57.0453 277.087 49.536C280.074 42.0267 283.487 36.224 287.327 32.128C291.252 27.9467 295.348 25.856 299.615 25.856C302.431 25.856 304.522 26.6667 305.887 28.288C307.338 29.9093 308.063 32.384 308.063 35.712C308.063 37.6747 307.807 40.0213 307.295 42.752L303.071 65.536C302.815 66.816 302.687 67.8827 302.687 68.736C302.687 71.296 303.498 72.576 305.119 72.576C306.57 72.576 309.215 70.7413 313.055 67.072C313.226 66.9013 313.354 66.816 313.439 66.816C313.695 66.816 313.908 66.9867 314.079 67.328C314.25 67.584 314.25 67.84 314.079 68.096C311.178 71.5093 308.575 74.0267 306.271 75.648C303.967 77.2693 301.706 78.08 299.487 78.08ZM266.847 77.952C264.543 77.952 263.391 77.6533 263.391 77.056L263.903 74.496C264.671 70.8267 265.14 68.48 265.311 67.456L270.559 38.912C270.815 37.632 270.943 36.5653 270.943 35.712C270.943 33.0667 270.132 31.744 268.511 31.744C267.572 31.744 266.378 32.256 264.927 33.28C263.476 34.2187 261.855 35.584 260.063 37.376C259.978 37.4613 259.85 37.504 259.679 37.504C259.423 37.504 259.21 37.376 259.039 37.12C258.868 36.7787 258.868 36.5227 259.039 36.352C261.94 32.9387 264.628 30.4213 267.103 28.8C269.578 27.1787 271.967 26.368 274.271 26.368C275.978 26.368 277.215 26.88 277.983 27.904C278.751 28.8427 279.135 30.3787 279.135 32.512C279.135 33.792 278.922 35.712 278.495 38.272L271.839 75.776C271.668 76.4587 271.156 76.9707 270.303 77.312C269.45 77.7387 268.298 77.952 266.847 77.952Z",
  ];

  return (
    <Svg
      viewBox="0 0 315 79"
      role="img"
      aria-label="sienten"
      variants={container}
      initial="hidden"
      animate="show"
      {...props}
    >
      <defs>
        <mask id={maskId} maskUnits="userSpaceOnUse">
          <rect x="0" y="0" width="315" height="79" fill="black" />
          {PATHS.map((d, i) => (
            <motion.path
              key={`m-${i}`}
              d={d}
              variants={maskPen}
              fill="none"
              stroke="white"
              strokeWidth={strokeWidth}
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          ))}
        </mask>
      </defs>

      {/* Filled word (revealed by mask) */}
      <g mask={`url(#${maskId})`} fill="currentColor">
        {PATHS.map((d, i) => (
          <path key={`f-${i}`} d={d} />
        ))}
      </g>

      {/* Visible “ink line” on top (this is what makes it feel handwritten) */}
      <g
        fill="none"
        stroke="currentColor"
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        {PATHS.map((d, i) => (
          <motion.path
            key={`l-${i}`}
            d={d}
            variants={inkLine}
            strokeWidth={inkWidth}
          />
        ))}
      </g>
    </Svg>
  );
}
// import { motion } from "framer-motion";
// import { useId } from "react";
// import styled from "styled-components";

// const Svg = styled(motion.svg)`
//   height: 1em;
//   width: auto;
//   margin-left: 0.2em;
//   transform: translateY(0.12em);
//   overflow: visible;
// `;

// const container = {
//   hidden: {},
//   show: {
//     transition: {
//       staggerChildren: 0.2,   // letter-by-letter feel
//       delayChildren: 0.15,
//     },
//   },
// };

// // Pen movement (what you SEE)
// const drawStroke = {
//   hidden: { pathLength: 0, opacity: 1 },
//   show: {
//     pathLength: 1,
//     opacity: 1,
//     transition: { duration: 1.1, ease: "easeInOut" },
//   },
// };

// // Mask pen (thick, invisible) reveals fill behind the pen
// const revealMask = {
//   hidden: { pathLength: 0 },
//   show: {
//     pathLength: 1,
//     transition: { duration: 1.1, ease: "easeInOut" },
//   },
// };

// export default function HandwrittenSienten({
//   maskWidth = 18, // how "wide" the reveal is (like pen ink spread)
//   inkWidth = 2.4, // visible handwriting line thickness
//   ...props
// }) {
//   const maskId = useId();

//   // 1) FILLED SHAPES (your existing Figma outlines)
//   const FILL_PATHS = [
//     /* s */ "M12.16 78.336C8.91733 ... 12.16 78.336Z",
//     /* i */ "M51.925 78.08C50.2183 ... 60.117 11.776Z",
//     /* e */ "M89.822 78.464C84.19 ... 89.822 78.464Z",
//     /* n */ "M157.237 78.08C155.53 ... 124.597 77.952Z",
//     /* t */ "M189.72 78.464C183.661 ... 208.408 33.408Z",
//     /* e */ "M232.072 78.464C226.44 ... 232.072 78.464Z",
//     /* n */ "M299.487 78.08C297.78 ... 266.847 77.952Z",
//   ];

//   // 2) GUIDE STROKES (YOU must create these)
//   // These should be single-stroke "how you would write it" paths.
//   const GUIDE_PATHS = [
//     /* s */ "M ...",
//     /* i */ "M ...",
//     /* e */ "M ...",
//     /* n */ "M ...",
//     /* t */ "M ...",
//     /* e */ "M ...",
//     /* n */ "M ...",
//   ];

//   return (
//     <Svg
//       viewBox="0 0 315 79"
//       aria-label="sienten"
//       role="img"
//       variants={container}
//       initial="hidden"
//       animate="show"
//       {...props}
//     >
//       <defs>
//         <mask id={maskId} maskUnits="userSpaceOnUse">
//           <rect width="315" height="79" fill="black" />
//           {GUIDE_PATHS.map((d, i) => (
//             <motion.path
//               key={`mask-${i}`}
//               d={d}
//               variants={revealMask}
//               fill="none"
//               stroke="white"
//               strokeWidth={maskWidth}
//               strokeLinecap="round"
//               strokeLinejoin="round"
//             />
//           ))}
//         </mask>
//       </defs>

//       {/* Filled word revealed by the mask */}
//       <g mask={`url(#${maskId})`} fill="currentColor">
//         {FILL_PATHS.map((d, i) => (
//           <path key={`fill-${i}`} d={d} />
//         ))}
//       </g>

//       {/* Visible pen stroke (what makes it feel handwritten) */}
//       <g fill="none" stroke="currentColor" strokeLinecap="round" strokeLinejoin="round">
//         {GUIDE_PATHS.map((d, i) => (
//           <motion.path
//             key={`ink-${i}`}
//             d={d}
//             variants={drawStroke}
//             strokeWidth={inkWidth}
//           />
//         ))}
//       </g>
//     </Svg>
//   );
// }
